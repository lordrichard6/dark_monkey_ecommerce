-- Reseed categories: theme-based structure (replaces gender-based)
-- Top-level = art theme, sub-categories = product type

DO $$
BEGIN

  -- Unlink products from old categories
  UPDATE products SET category_id = NULL;

  -- Remove all existing categories
  DELETE FROM categories;

  -- ── Top-level categories (art themes) ──────────────────────────
  INSERT INTO categories (id, name, slug, sort_order) VALUES
    ('c1000000-0000-0000-0000-000000000000', 'Gym & Fitness',      'gym-fitness',      1),
    ('c2000000-0000-0000-0000-000000000000', 'Tuning & Cars',      'tuning-cars',      2),
    ('c3000000-0000-0000-0000-000000000000', 'Memes & Fun',        'memes-fun',        3),
    ('c4000000-0000-0000-0000-000000000000', 'Street & Urban',     'street-urban',     4),
    ('c5000000-0000-0000-0000-000000000000', 'Dark & Gothic',      'dark-gothic',      5),
    ('c6000000-0000-0000-0000-000000000000', 'Anime & Manga',      'anime-manga',      6),
    ('c7000000-0000-0000-0000-000000000000', 'Retro & Vintage',    'retro-vintage',    7),
    ('c8000000-0000-0000-0000-000000000000', 'Nature & Wildlife',  'nature-wildlife',  8),
    ('c9000000-0000-0000-0000-000000000000', 'Music',              'music',            9),
    ('ca000000-0000-0000-0000-000000000000', 'Gaming',             'gaming',          10);

  -- ── Sub-categories: Gym & Fitness ──────────────────────────────
  INSERT INTO categories (id, name, slug, sort_order, parent_id) VALUES
    ('d1100000-0000-0000-0000-000000000000', 'T-Shirts',    'gym-t-shirts',    1, 'c1000000-0000-0000-0000-000000000000'),
    ('d1200000-0000-0000-0000-000000000000', 'Hoodies',     'gym-hoodies',     2, 'c1000000-0000-0000-0000-000000000000'),
    ('d1300000-0000-0000-0000-000000000000', 'Caps',        'gym-caps',        3, 'c1000000-0000-0000-0000-000000000000'),
    ('d1400000-0000-0000-0000-000000000000', 'Cups',        'gym-cups',        4, 'c1000000-0000-0000-0000-000000000000'),
    ('d1500000-0000-0000-0000-000000000000', 'Accessories', 'gym-accessories', 5, 'c1000000-0000-0000-0000-000000000000');

  -- ── Sub-categories: Tuning & Cars ──────────────────────────────
  INSERT INTO categories (id, name, slug, sort_order, parent_id) VALUES
    ('d2100000-0000-0000-0000-000000000000', 'T-Shirts',    'tuning-t-shirts',    1, 'c2000000-0000-0000-0000-000000000000'),
    ('d2200000-0000-0000-0000-000000000000', 'Hoodies',     'tuning-hoodies',     2, 'c2000000-0000-0000-0000-000000000000'),
    ('d2300000-0000-0000-0000-000000000000', 'Caps',        'tuning-caps',        3, 'c2000000-0000-0000-0000-000000000000'),
    ('d2400000-0000-0000-0000-000000000000', 'Cups',        'tuning-cups',        4, 'c2000000-0000-0000-0000-000000000000'),
    ('d2500000-0000-0000-0000-000000000000', 'Accessories', 'tuning-accessories', 5, 'c2000000-0000-0000-0000-000000000000');

  -- ── Sub-categories: Memes & Fun ────────────────────────────────
  INSERT INTO categories (id, name, slug, sort_order, parent_id) VALUES
    ('d3100000-0000-0000-0000-000000000000', 'T-Shirts',    'memes-t-shirts',    1, 'c3000000-0000-0000-0000-000000000000'),
    ('d3200000-0000-0000-0000-000000000000', 'Hoodies',     'memes-hoodies',     2, 'c3000000-0000-0000-0000-000000000000'),
    ('d3300000-0000-0000-0000-000000000000', 'Caps',        'memes-caps',        3, 'c3000000-0000-0000-0000-000000000000'),
    ('d3400000-0000-0000-0000-000000000000', 'Cups',        'memes-cups',        4, 'c3000000-0000-0000-0000-000000000000'),
    ('d3500000-0000-0000-0000-000000000000', 'Accessories', 'memes-accessories', 5, 'c3000000-0000-0000-0000-000000000000');

  -- ── Sub-categories: Street & Urban ─────────────────────────────
  INSERT INTO categories (id, name, slug, sort_order, parent_id) VALUES
    ('d4100000-0000-0000-0000-000000000000', 'T-Shirts',    'street-t-shirts',    1, 'c4000000-0000-0000-0000-000000000000'),
    ('d4200000-0000-0000-0000-000000000000', 'Hoodies',     'street-hoodies',     2, 'c4000000-0000-0000-0000-000000000000'),
    ('d4300000-0000-0000-0000-000000000000', 'Caps',        'street-caps',        3, 'c4000000-0000-0000-0000-000000000000'),
    ('d4400000-0000-0000-0000-000000000000', 'Cups',        'street-cups',        4, 'c4000000-0000-0000-0000-000000000000'),
    ('d4500000-0000-0000-0000-000000000000', 'Accessories', 'street-accessories', 5, 'c4000000-0000-0000-0000-000000000000');

  -- ── Sub-categories: Dark & Gothic ──────────────────────────────
  INSERT INTO categories (id, name, slug, sort_order, parent_id) VALUES
    ('d5100000-0000-0000-0000-000000000000', 'T-Shirts',    'dark-t-shirts',    1, 'c5000000-0000-0000-0000-000000000000'),
    ('d5200000-0000-0000-0000-000000000000', 'Hoodies',     'dark-hoodies',     2, 'c5000000-0000-0000-0000-000000000000'),
    ('d5300000-0000-0000-0000-000000000000', 'Caps',        'dark-caps',        3, 'c5000000-0000-0000-0000-000000000000'),
    ('d5400000-0000-0000-0000-000000000000', 'Cups',        'dark-cups',        4, 'c5000000-0000-0000-0000-000000000000'),
    ('d5500000-0000-0000-0000-000000000000', 'Accessories', 'dark-accessories', 5, 'c5000000-0000-0000-0000-000000000000');

  -- ── Sub-categories: Anime & Manga ──────────────────────────────
  INSERT INTO categories (id, name, slug, sort_order, parent_id) VALUES
    ('d6100000-0000-0000-0000-000000000000', 'T-Shirts',    'anime-t-shirts',    1, 'c6000000-0000-0000-0000-000000000000'),
    ('d6200000-0000-0000-0000-000000000000', 'Hoodies',     'anime-hoodies',     2, 'c6000000-0000-0000-0000-000000000000'),
    ('d6300000-0000-0000-0000-000000000000', 'Caps',        'anime-caps',        3, 'c6000000-0000-0000-0000-000000000000'),
    ('d6400000-0000-0000-0000-000000000000', 'Cups',        'anime-cups',        4, 'c6000000-0000-0000-0000-000000000000'),
    ('d6500000-0000-0000-0000-000000000000', 'Accessories', 'anime-accessories', 5, 'c6000000-0000-0000-0000-000000000000');

  -- ── Sub-categories: Retro & Vintage ────────────────────────────
  INSERT INTO categories (id, name, slug, sort_order, parent_id) VALUES
    ('d7100000-0000-0000-0000-000000000000', 'T-Shirts',    'retro-t-shirts',    1, 'c7000000-0000-0000-0000-000000000000'),
    ('d7200000-0000-0000-0000-000000000000', 'Hoodies',     'retro-hoodies',     2, 'c7000000-0000-0000-0000-000000000000'),
    ('d7300000-0000-0000-0000-000000000000', 'Caps',        'retro-caps',        3, 'c7000000-0000-0000-0000-000000000000'),
    ('d7400000-0000-0000-0000-000000000000', 'Cups',        'retro-cups',        4, 'c7000000-0000-0000-0000-000000000000'),
    ('d7500000-0000-0000-0000-000000000000', 'Accessories', 'retro-accessories', 5, 'c7000000-0000-0000-0000-000000000000');

  -- ── Sub-categories: Nature & Wildlife ──────────────────────────
  INSERT INTO categories (id, name, slug, sort_order, parent_id) VALUES
    ('d8100000-0000-0000-0000-000000000000', 'T-Shirts',    'nature-t-shirts',    1, 'c8000000-0000-0000-0000-000000000000'),
    ('d8200000-0000-0000-0000-000000000000', 'Hoodies',     'nature-hoodies',     2, 'c8000000-0000-0000-0000-000000000000'),
    ('d8300000-0000-0000-0000-000000000000', 'Caps',        'nature-caps',        3, 'c8000000-0000-0000-0000-000000000000'),
    ('d8400000-0000-0000-0000-000000000000', 'Cups',        'nature-cups',        4, 'c8000000-0000-0000-0000-000000000000'),
    ('d8500000-0000-0000-0000-000000000000', 'Accessories', 'nature-accessories', 5, 'c8000000-0000-0000-0000-000000000000');

  -- ── Sub-categories: Music ───────────────────────────────────────
  INSERT INTO categories (id, name, slug, sort_order, parent_id) VALUES
    ('d9100000-0000-0000-0000-000000000000', 'T-Shirts',    'music-t-shirts',    1, 'c9000000-0000-0000-0000-000000000000'),
    ('d9200000-0000-0000-0000-000000000000', 'Hoodies',     'music-hoodies',     2, 'c9000000-0000-0000-0000-000000000000'),
    ('d9300000-0000-0000-0000-000000000000', 'Caps',        'music-caps',        3, 'c9000000-0000-0000-0000-000000000000'),
    ('d9400000-0000-0000-0000-000000000000', 'Cups',        'music-cups',        4, 'c9000000-0000-0000-0000-000000000000'),
    ('d9500000-0000-0000-0000-000000000000', 'Accessories', 'music-accessories', 5, 'c9000000-0000-0000-0000-000000000000');

  -- ── Sub-categories: Gaming ─────────────────────────────────────
  INSERT INTO categories (id, name, slug, sort_order, parent_id) VALUES
    ('da100000-0000-0000-0000-000000000000', 'T-Shirts',    'gaming-t-shirts',    1, 'ca000000-0000-0000-0000-000000000000'),
    ('da200000-0000-0000-0000-000000000000', 'Hoodies',     'gaming-hoodies',     2, 'ca000000-0000-0000-0000-000000000000'),
    ('da300000-0000-0000-0000-000000000000', 'Caps',        'gaming-caps',        3, 'ca000000-0000-0000-0000-000000000000'),
    ('da400000-0000-0000-0000-000000000000', 'Cups',        'gaming-cups',        4, 'ca000000-0000-0000-0000-000000000000'),
    ('da500000-0000-0000-0000-000000000000', 'Accessories', 'gaming-accessories', 5, 'ca000000-0000-0000-0000-000000000000');

END $$;
